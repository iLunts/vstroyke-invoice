(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{KMbw:function(n,l,t){"use strict";t.r(l);var e=t("8Y7J");class a{}var u=t("Xg1U"),r=t("atuK"),s=t("pMnS"),o=t("SVse"),i=t("iInd"),b=t("lJxs");class c{constructor(n,l,t){this._db=n,this._customer=l,this._auth=t,this.customerList=[]}ngOnInit(){this.getCustomers()}getCustomers(){this._customer.getAll().snapshotChanges().pipe(Object(b.a)(n=>n.map(n=>Object.assign({_id:n.payload.doc.id},n.payload.doc.data())))).subscribe(n=>{this.customerList=n})}deleteCustomer(n){this._customer.delete(n).catch(n=>{console.log("Error delete: ",n)})}}var d=t("PVcy"),g=t("Xr7G"),p=t("lGQG");let C=(()=>{class n{constructor(n,l){this._fs=n,this._auth=l,this.dbPath="/customers",this.customersRef=null,this.customersRef=n.collection(this.dbPath,n=>n.where("_userId","==",this._auth.getUserId()))}getAll(){return this.customersRef}add(n){this.customersRef.add(Object.assign({},n))}delete(n){return this.customersRef.doc(n).delete()}update(n,l){return this.customersRef.doc(n).update(l)}}return n.ngInjectableDef=e.Rb({factory:function(){return new n(e.Sb(g.a),e.Sb(p.a))},token:n,providedIn:"root"}),n})();var m=e.qb({encapsulation:0,styles:[[""]],data:{}});function h(n){return e.Nb(0,[(n()(),e.sb(0,0,null,null,4,"p",[],null,null,null,null,null)),(n()(),e.Lb(1,null,[" "," "])),e.Gb(0,o.f,[]),(n()(),e.sb(3,0,null,null,1,"button",[["class","btn"]],null,[[null,"click"]],(function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.deleteCustomer(n.context.$implicit._id)&&e),e}),null,null)),(n()(),e.Lb(-1,null,["\u0423\u0434\u0430\u043b\u0438\u0442\u044c"]))],null,(function(n,l){n(l,1,0,e.Mb(l,1,0,e.Eb(l,2).transform(l.context.$implicit)))}))}function f(n){return e.Nb(0,[(n()(),e.sb(0,0,null,null,3,"a",[["class","btn btn--primary"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(n,l,t){var a=!0;return"click"===l&&(a=!1!==e.Eb(n,1).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&a),a}),null,null)),e.rb(1,671744,null,0,i.n,[i.k,i.a,o.i],{routerLink:[0,"routerLink"]},null),e.Fb(2,2),(n()(),e.Lb(-1,null,["\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"])),(n()(),e.sb(4,0,null,null,0,"hr",[],null,null,null,null,null)),(n()(),e.hb(16777216,null,null,1,null,h)),e.rb(6,278528,null,0,o.k,[e.O,e.K,e.q],{ngForOf:[0,"ngForOf"]},null)],(function(n,l){var t=l.component,e=n(l,2,0,"/customer","create");n(l,1,0,e),n(l,6,0,t.customerList)}),(function(n,l){n(l,0,0,e.Eb(l,1).target,e.Eb(l,1).href)}))}var _=e.ob("data-customer-list",c,(function(n){return e.Nb(0,[(n()(),e.sb(0,0,null,null,1,"data-customer-list",[],null,null,null,f,m)),e.rb(1,114688,null,0,c,[d.a,C,p.a],null,null)],(function(n,l){n(l,1,0)}),null)}),{},{},[]),y=t("s7LF"),P=t("XsNI"),v=t("PPXL"),x=t("3emY"),M=t("SEct");class O{constructor(n,l,t,e,a,u,r,s,o,i,b,c,d,g,p,C,m,h,f,_,y){this.UNP=n,this.companyName=l,this.companyTypeId=t,this._userId=a,this.TP=u,this.NM=r,this.DC=s,this.DD=o,this.NU=i,this.VU=b,this.NS=c,this.VS=d,this.VNM=g,this.VSN=p,this.VFN=C,this.ACT=m,this.Z=h,this.VNMB=f,this.VSNB=_,this.VFNB=y}}var E=t("4ziU"),k=t("wd/R"),I=t("IheW");class w{constructor(n,l,t,e){this._customer=n,this._auth=l,this._fb=t,this._egr=e,this.paymentOptions={showTax:!1,tax:20,showPaymentsTerm:!1,paymentsTerm:"",showEndDate:!1},this.form=this._fb.group({UNP:["",[y.s.required,y.s.minLength(9),y.s.maxLength(12)]],createDate:[k().format("DD.MM.YYYY"),[y.s.required]],startDate:[k().format("DD.MM.YYYY"),[y.s.required,E.a.ueFormat]],billFrom:new y.g({}),billTo:new y.g({}),services:new y.g({})})}ngOnInit(){}get f(){return this.form.controls}changePaymentOptions(){}getCompanyInfo(){this.f.UNP.valid&&this._egr.getCompanyInfo((new I.g).append("NM",this.f.UNP.value)).subscribe(n=>{n&&1===n.length&&(this.customerInfo=n[0])})}save(){const n=new O("123123123123","Test company name","290348dfhsdf234fewf");n._userId=this._auth.getUserId(),this._customer.add(n)}}let N=(()=>{class n{constructor(n){this._http=n,this.baseUrl="//egr.gov.by/egrn/API.jsp"}getCompanyInfo(n){return this._http.get(this.baseUrl,{params:n})}}return n.ngInjectableDef=e.Rb({factory:function(){return new n(e.Sb(I.c))},token:n,providedIn:"root"}),n})();var D=e.qb({encapsulation:0,styles:[[".creater[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:start;align-items:flex-start;position:relative;margin:20px 0}.creater[_ngcontent-%COMP%]   .creater__editor[_ngcontent-%COMP%]{position:relative;width:100%;padding:30px;border-radius:5px;background-color:#fff;border:1px solid #eee}.creater[_ngcontent-%COMP%]   .creater__editor-header[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:start;align-items:flex-start;-webkit-box-pack:justify;justify-content:space-between;padding-bottom:1.25rem;border-bottom:1px solid #f2f2f2}.creater[_ngcontent-%COMP%]   .creater__editor-company[_ngcontent-%COMP%]{padding-top:2rem;padding-bottom:2rem;border-bottom:1px solid #f2f2f2}.creater[_ngcontent-%COMP%]   .creater__editor-bill[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:start;align-items:flex-start;-webkit-box-pack:justify;justify-content:space-between;padding-top:2rem;padding-bottom:2rem;border-bottom:1px solid #f2f2f2}.creater[_ngcontent-%COMP%]   .creater__editor-bill-block[_ngcontent-%COMP%]{width:50%;flex-shrink:0;margin-right:20px}.creater[_ngcontent-%COMP%]   .creater__editor-bill-block[_ngcontent-%COMP%] + .creater__editor-block[_ngcontent-%COMP%]{margin-left:20px;margin-right:0}.creater[_ngcontent-%COMP%]   .creater__editor-table[_ngcontent-%COMP%], .creater[_ngcontent-%COMP%]   .creater__editor-total[_ngcontent-%COMP%]{padding-top:2rem;padding-bottom:2rem;border-bottom:1px solid #f2f2f2}.creater[_ngcontent-%COMP%]   .creater__editor-footer[_ngcontent-%COMP%]{padding-top:2rem;font-size:.8rem;color:#637584;text-align:center}.creater[_ngcontent-%COMP%]   .creater__aside[_ngcontent-%COMP%]{display:block;width:250px;margin-left:15px;flex-shrink:0}.creater[_ngcontent-%COMP%]   .creater__aside-group[_ngcontent-%COMP%] + .creater__aside-group[_ngcontent-%COMP%]{padding-top:15px;margin-top:15px;border-top:1px solid #eee}.creater[_ngcontent-%COMP%]   .creater__btn[_ngcontent-%COMP%]{display:block;width:100%}fb-field[_ngcontent-%COMP%]{display:-webkit-inline-box;display:inline-flex}fb-field[_ngcontent-%COMP%] + fb-field[_ngcontent-%COMP%]{margin-left:15px}fb-toggle[_ngcontent-%COMP%]{display:-webkit-box;display:flex}fb-toggle[_ngcontent-%COMP%] + fb-toggle[_ngcontent-%COMP%]{margin-top:15px}"]],data:{}});function S(n){return e.Nb(0,[(n()(),e.sb(0,0,null,null,39,"section",[["class","creater"]],null,null,null,null,null)),(n()(),e.sb(1,0,null,null,21,"form",[["class","creater__editor"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(n,l,t){var a=!0,u=n.component;return"submit"===l&&(a=!1!==e.Eb(n,3).onSubmit(t)&&a),"reset"===l&&(a=!1!==e.Eb(n,3).onReset()&&a),"ngSubmit"===l&&(a=!1!==u.save()&&a),a}),null,null)),e.rb(2,16384,null,0,y.x,[],null,null),e.rb(3,540672,null,0,y.h,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),e.Ib(2048,null,y.c,null,[y.h]),e.rb(5,16384,null,0,y.n,[[4,y.c]],null,null),(n()(),e.sb(6,0,null,null,13,"div",[["class","creater__editor-header"]],null,null,null,null,null)),(n()(),e.sb(7,0,null,null,5,"fb-field",[["formControlName","UNP"],["label","\u0423\u041d\u041f \u043a\u043e\u043d\u0442\u0440\u0430\u0433\u0435\u043d\u0442\u0430"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"]],(function(n,l,t){var e=!0;return"change"===l&&(e=!1!==n.component.getCompanyInfo()&&e),e}),P.b,P.a)),e.rb(8,114688,null,0,v.a,[],{label:[0,"label"],type:[1,"type"],control:[2,"control"]},null),e.Ib(1024,null,y.k,(function(n){return[n]}),[v.a]),e.rb(10,671744,null,0,y.f,[[3,y.c],[8,null],[8,null],[6,y.k],[2,y.v]],{name:[0,"name"]},null),e.Ib(2048,null,y.l,null,[y.f]),e.rb(12,16384,null,0,y.m,[[4,y.l]],null,null),(n()(),e.sb(13,0,null,null,6,"div",[],null,null,null,null,null)),(n()(),e.sb(14,0,null,null,5,"fb-field",[["formControlName","startDate"],["label","\u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,P.b,P.a)),e.rb(15,114688,null,0,v.a,[],{label:[0,"label"],type:[1,"type"],control:[2,"control"]},null),e.Ib(1024,null,y.k,(function(n){return[n]}),[v.a]),e.rb(17,671744,null,0,y.f,[[3,y.c],[8,null],[8,null],[6,y.k],[2,y.v]],{name:[0,"name"]},null),e.Ib(2048,null,y.l,null,[y.f]),e.rb(19,16384,null,0,y.m,[[4,y.l]],null,null),(n()(),e.sb(20,0,null,null,2,"div",[["class","creater__editor-company"]],null,null,null,null,null)),(n()(),e.Lb(21,null,[" Company: "," "])),e.Gb(0,o.f,[]),(n()(),e.sb(23,0,null,null,16,"aside",[["class","creater__aside"]],null,null,null,null,null)),(n()(),e.sb(24,0,null,null,2,"div",[["class","creater__aside-group"]],null,null,null,null,null)),(n()(),e.sb(25,0,null,null,1,"button",[["class","btn btn--primary creater__btn creater__btn--primary"],["type","button"]],[[8,"disabled",0]],null,null,null,null)),(n()(),e.Lb(-1,null,[" \u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0441\u0447\u0451\u0442 "])),(n()(),e.sb(27,0,null,null,12,"div",[["class","creater__aside-group"]],null,null,null,null,null)),(n()(),e.sb(28,0,null,null,5,"fb-toggle",[["label","\u041e\u0433\u0440\u0430\u043d\u0438\u0447\u0438\u0442\u044c \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u0441\u0447\u0435\u0442\u0430"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(n,l,t){var e=!0,a=n.component;return"ngModelChange"===l&&(e=!1!==(a.paymentOptions.showEndDate=t)&&e),"ngModelChange"===l&&(e=!1!==a.changePaymentOptions()&&e),e}),x.b,x.a)),e.rb(29,114688,null,0,M.a,[],{label:[0,"label"]},null),e.Ib(1024,null,y.k,(function(n){return[n]}),[M.a]),e.rb(31,671744,null,0,y.o,[[8,null],[8,null],[8,null],[6,y.k]],{model:[0,"model"]},{update:"ngModelChange"}),e.Ib(2048,null,y.l,null,[y.o]),e.rb(33,16384,null,0,y.m,[[4,y.l]],null,null),(n()(),e.sb(34,0,null,null,5,"fb-toggle",[["label","\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u041d\u0414\u0421"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(n,l,t){var e=!0,a=n.component;return"ngModelChange"===l&&(e=!1!==(a.paymentOptions.showTax=t)&&e),"ngModelChange"===l&&(e=!1!==a.changePaymentOptions()&&e),e}),x.b,x.a)),e.rb(35,114688,null,0,M.a,[],{label:[0,"label"]},null),e.Ib(1024,null,y.k,(function(n){return[n]}),[M.a]),e.rb(37,671744,null,0,y.o,[[8,null],[8,null],[8,null],[6,y.k]],{model:[0,"model"]},{update:"ngModelChange"}),e.Ib(2048,null,y.l,null,[y.o]),e.rb(39,16384,null,0,y.m,[[4,y.l]],null,null)],(function(n,l){var t=l.component;n(l,3,0,t.form),n(l,8,0,"\u0423\u041d\u041f \u043a\u043e\u043d\u0442\u0440\u0430\u0433\u0435\u043d\u0442\u0430","text",t.f.UNP),n(l,10,0,"UNP"),n(l,15,0,"\u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f","text",t.f.startDate),n(l,17,0,"startDate"),n(l,29,0,"\u041e\u0433\u0440\u0430\u043d\u0438\u0447\u0438\u0442\u044c \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u0441\u0447\u0435\u0442\u0430"),n(l,31,0,t.paymentOptions.showEndDate),n(l,35,0,"\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u041d\u0414\u0421"),n(l,37,0,t.paymentOptions.showTax)}),(function(n,l){var t=l.component;n(l,1,0,e.Eb(l,5).ngClassUntouched,e.Eb(l,5).ngClassTouched,e.Eb(l,5).ngClassPristine,e.Eb(l,5).ngClassDirty,e.Eb(l,5).ngClassValid,e.Eb(l,5).ngClassInvalid,e.Eb(l,5).ngClassPending),n(l,7,0,e.Eb(l,12).ngClassUntouched,e.Eb(l,12).ngClassTouched,e.Eb(l,12).ngClassPristine,e.Eb(l,12).ngClassDirty,e.Eb(l,12).ngClassValid,e.Eb(l,12).ngClassInvalid,e.Eb(l,12).ngClassPending),n(l,14,0,e.Eb(l,19).ngClassUntouched,e.Eb(l,19).ngClassTouched,e.Eb(l,19).ngClassPristine,e.Eb(l,19).ngClassDirty,e.Eb(l,19).ngClassValid,e.Eb(l,19).ngClassInvalid,e.Eb(l,19).ngClassPending),n(l,21,0,e.Mb(l,21,0,e.Eb(l,22).transform(t.customerInfo))),n(l,25,0,t.form.invalid),n(l,28,0,e.Eb(l,33).ngClassUntouched,e.Eb(l,33).ngClassTouched,e.Eb(l,33).ngClassPristine,e.Eb(l,33).ngClassDirty,e.Eb(l,33).ngClassValid,e.Eb(l,33).ngClassInvalid,e.Eb(l,33).ngClassPending),n(l,34,0,e.Eb(l,39).ngClassUntouched,e.Eb(l,39).ngClassTouched,e.Eb(l,39).ngClassPristine,e.Eb(l,39).ngClassDirty,e.Eb(l,39).ngClassValid,e.Eb(l,39).ngClassInvalid,e.Eb(l,39).ngClassPending)}))}var U=e.ob("data-customer-create",w,(function(n){return e.Nb(0,[(n()(),e.sb(0,0,null,null,1,"data-customer-create",[],null,null,null,S,D)),e.rb(1,114688,null,0,w,[C,p.a,y.e,N],null,null)],(function(n,l){n(l,1,0)}),null)}),{},{},[]),j=t("yA/v"),T=t("1XSQ"),V=t("m7gy"),R=t("z5t0"),L=t("irV9"),z=t("rzCp"),F=t("978R"),Y=t("2uy1"),K=t("z/SZ"),X=t("2ZVE"),q=t("ienR"),A=t("bOtU"),G=t("PCNd");class B{}t.d(l,"CustomerModuleNgFactory",(function(){return J}));var J=e.pb(a,[],(function(n){return e.Bb([e.Cb(512,e.j,e.ab,[[8,[u.a,r.a,r.c,r.b,r.d,s.a,_,U]],[3,e.j],e.v]),e.Cb(4608,o.n,o.m,[e.s,[2,o.y]]),e.Cb(4608,y.u,y.u,[]),e.Cb(4608,y.e,y.e,[]),e.Cb(4608,I.i,I.o,[o.d,e.z,I.m]),e.Cb(4608,I.p,I.p,[I.i,I.n]),e.Cb(5120,I.a,(function(n){return[n]}),[I.p]),e.Cb(4608,I.l,I.l,[]),e.Cb(6144,I.j,null,[I.l]),e.Cb(4608,I.h,I.h,[I.j]),e.Cb(6144,I.b,null,[I.h]),e.Cb(4608,I.f,I.k,[I.b,e.p]),e.Cb(4608,I.c,I.c,[I.f]),e.Cb(5120,j.b,j.e,[j.d,e.x,[2,j.c]]),e.Cb(4608,g.a,g.a,[j.d,[2,j.c],[2,g.b],[2,g.c],e.z,e.x,[2,g.d]]),e.Cb(4608,d.a,d.a,[j.d,[2,j.c],[2,T.a],e.z,e.x]),e.Cb(4608,L.a,L.a,[j.d,[2,j.c],e.z,e.x]),e.Cb(4608,F.a,F.a,[]),e.Cb(4608,Y.a,Y.a,[e.x,e.D,e.z]),e.Cb(4608,K.a,K.a,[e.j,e.x,e.p,Y.a,e.g]),e.Cb(4608,X.f,X.f,[]),e.Cb(4608,q.r,q.r,[]),e.Cb(4608,q.t,q.t,[]),e.Cb(4608,q.a,q.a,[]),e.Cb(4608,q.f,q.f,[]),e.Cb(4608,q.c,q.c,[]),e.Cb(4608,q.h,q.h,[]),e.Cb(4608,q.j,q.j,[]),e.Cb(4608,q.s,q.s,[q.t,q.j]),e.Cb(5120,A.h,A.g,[A.a,A.e]),e.Cb(4608,A.b,A.b,[A.h]),e.Cb(1073742336,o.c,o.c,[]),e.Cb(1073742336,y.t,y.t,[]),e.Cb(1073742336,y.i,y.i,[]),e.Cb(1073742336,y.q,y.q,[]),e.Cb(1073742336,I.e,I.e,[]),e.Cb(1073742336,I.d,I.d,[]),e.Cb(1073742336,j.a,j.a,[e.z]),e.Cb(1073742336,V.a,V.a,[]),e.Cb(1073742336,R.a,R.a,[]),e.Cb(1073742336,z.a,z.a,[]),e.Cb(1073742336,F.d,F.d,[]),e.Cb(1073742336,X.d,X.d,[]),e.Cb(1073742336,q.e,q.e,[]),e.Cb(1073742336,A.f,A.f,[]),e.Cb(1073742336,G.a,G.a,[]),e.Cb(1073742336,i.o,i.o,[[2,i.t],[2,i.k]]),e.Cb(1073742336,B,B,[]),e.Cb(1073742336,a,a,[]),e.Cb(256,I.m,"XSRF-TOKEN",[]),e.Cb(256,I.n,"X-XSRF-TOKEN",[]),e.Cb(256,j.d,{apiKey:"AIzaSyAt0A-pNJNvSe9pUWrby_2-SFQCXI7WMsE",authDomain:"invoices-244bd.firebaseapp.com",databaseURL:"https://invoices-244bd.firebaseio.com",projectId:"invoices-244bd",storageBucket:"invoices-244bd.appspot.com",messagingSenderId:"281478247600",appId:"1:281478247600:web:4bce50f58c2357d55ab775",measurementId:"G-YDRP5ST41Z"},[]),e.Cb(256,j.c,void 0,[]),e.Cb(256,A.e,void 0,[]),e.Cb(256,A.a,A.i,[]),e.Cb(1024,i.i,(function(){return[[{path:"",children:[{path:"",component:c},{path:"create",component:w}]}]]}),[])])}))}}]);