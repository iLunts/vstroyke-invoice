(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{KMbw:function(n,l,t){"use strict";t.r(l);var e=t("8Y7J");class a{}var u=t("Xg1U"),r=t("atuK"),s=t("pMnS"),o=t("SVse"),i=t("iInd"),b=t("lJxs");class c{constructor(n,l,t){this._db=n,this._customer=l,this._auth=t,this.customerList=[]}ngOnInit(){this.getCustomers()}getCustomers(){this._customer.getAll().snapshotChanges().pipe(Object(b.a)(n=>n.map(n=>Object.assign({_id:n.payload.doc.id},n.payload.doc.data())))).subscribe(n=>{this.customerList=n})}deleteCustomer(n){this._customer.delete(n).catch(n=>{console.log("Error delete: ",n)})}}var d=t("PVcy"),g=t("Xr7G"),p=t("lGQG");let C=(()=>{class n{constructor(n,l){this._fs=n,this._auth=l,this.dbPath="/customers",this.customersRef=null,this.customersRef=n.collection(this.dbPath,n=>n.where("_userId","==",this._auth.getUserId()))}getAll(){return this.customersRef}add(n){this.customersRef.add(Object.assign({},n))}delete(n){return this.customersRef.doc(n).delete()}update(n,l){return this.customersRef.doc(n).update(l)}}return n.ngInjectableDef=e.Rb({factory:function(){return new n(e.Sb(g.a),e.Sb(p.a))},token:n,providedIn:"root"}),n})();var h=e.qb({encapsulation:0,styles:[[""]],data:{}});function m(n){return e.Nb(0,[(n()(),e.sb(0,0,null,null,4,"p",[],null,null,null,null,null)),(n()(),e.Lb(1,null,[" "," "])),e.Gb(0,o.f,[]),(n()(),e.sb(3,0,null,null,1,"button",[["class","btn"]],null,[[null,"click"]],(function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.deleteCustomer(n.context.$implicit._id)&&e),e}),null,null)),(n()(),e.Lb(-1,null,["\u0423\u0434\u0430\u043b\u0438\u0442\u044c"]))],null,(function(n,l){n(l,1,0,e.Mb(l,1,0,e.Eb(l,2).transform(l.context.$implicit)))}))}function f(n){return e.Nb(0,[(n()(),e.sb(0,0,null,null,3,"a",[["class","btn btn--primary"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(n,l,t){var a=!0;return"click"===l&&(a=!1!==e.Eb(n,1).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&a),a}),null,null)),e.rb(1,671744,null,0,i.n,[i.k,i.a,o.i],{routerLink:[0,"routerLink"]},null),e.Fb(2,2),(n()(),e.Lb(-1,null,["\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"])),(n()(),e.sb(4,0,null,null,0,"hr",[],null,null,null,null,null)),(n()(),e.hb(16777216,null,null,1,null,m)),e.rb(6,278528,null,0,o.k,[e.O,e.K,e.q],{ngForOf:[0,"ngForOf"]},null)],(function(n,l){var t=l.component,e=n(l,2,0,"/customer","create");n(l,1,0,e),n(l,6,0,t.customerList)}),(function(n,l){n(l,0,0,e.Eb(l,1).target,e.Eb(l,1).href)}))}function _(n){return e.Nb(0,[(n()(),e.sb(0,0,null,null,1,"data-customer-list",[],null,null,null,f,h)),e.rb(1,114688,null,0,c,[d.a,C,p.a],null,null)],(function(n,l){n(l,1,0)}),null)}var y=e.ob("data-customer-list",c,_,{},{},[]),P=t("s7LF"),v=t("XsNI"),x=t("PPXL"),M=t("3emY"),O=t("SEct");class E{constructor(n,l,t,e,a,u,r,s,o,i,b,c,d,g,p,C,h,m,f,_,y){this.UNP=n,this.companyName=l,this.companyTypeId=t,this._userId=a,this.TP=u,this.NM=r,this.DC=s,this.DD=o,this.NU=i,this.VU=b,this.NS=c,this.VS=d,this.VNM=g,this.VSN=p,this.VFN=C,this.ACT=h,this.Z=m,this.VNMB=f,this.VSNB=_,this.VFNB=y}}var k=t("4ziU"),I=t("wd/R"),w=t("IheW");class N{constructor(n,l,t,e){this._customer=n,this._auth=l,this._fb=t,this._egr=e,this.paymentOptions={showTax:!1,tax:20,showPaymentsTerm:!1,paymentsTerm:"",showEndDate:!1},this.form=this._fb.group({UNP:["",[P.s.required,P.s.minLength(9),P.s.maxLength(12)]],createDate:[I().format("DD.MM.YYYY"),[P.s.required]],startDate:[I().format("DD.MM.YYYY"),[P.s.required,k.a.ueFormat]],billFrom:new P.g({}),billTo:new P.g({}),services:new P.g({})})}ngOnInit(){}get f(){return this.form.controls}changePaymentOptions(){}getCompanyInfo(){this.f.UNP.valid&&this._egr.getCompanyInfo((new w.g).append("NM",this.f.UNP.value)).subscribe(n=>{n&&1===n.length&&(this.customerInfo=n[0])})}save(){const n=new E("123123123123","Test company name","290348dfhsdf234fewf");n._userId=this._auth.getUserId(),this._customer.add(n)}}let D=(()=>{class n{constructor(n){this._http=n,this.baseUrl="http://egr.gov.by/egrn/API.jsp"}getCompanyInfo(n){return this._http.get(this.baseUrl,{params:n})}}return n.ngInjectableDef=e.Rb({factory:function(){return new n(e.Sb(w.c))},token:n,providedIn:"root"}),n})();var S=e.qb({encapsulation:0,styles:[[".creater[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:start;align-items:flex-start;position:relative;margin:20px 0}.creater[_ngcontent-%COMP%]   .creater__editor[_ngcontent-%COMP%]{position:relative;width:100%;padding:30px;border-radius:5px;background-color:#fff;border:1px solid #eee}.creater[_ngcontent-%COMP%]   .creater__editor-header[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:start;align-items:flex-start;-webkit-box-pack:justify;justify-content:space-between;padding-bottom:1.25rem;border-bottom:1px solid #f2f2f2}.creater[_ngcontent-%COMP%]   .creater__editor-company[_ngcontent-%COMP%]{padding-top:2rem;padding-bottom:2rem;border-bottom:1px solid #f2f2f2}.creater[_ngcontent-%COMP%]   .creater__editor-bill[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:start;align-items:flex-start;-webkit-box-pack:justify;justify-content:space-between;padding-top:2rem;padding-bottom:2rem;border-bottom:1px solid #f2f2f2}.creater[_ngcontent-%COMP%]   .creater__editor-bill-block[_ngcontent-%COMP%]{width:50%;flex-shrink:0;margin-right:20px}.creater[_ngcontent-%COMP%]   .creater__editor-bill-block[_ngcontent-%COMP%] + .creater__editor-block[_ngcontent-%COMP%]{margin-left:20px;margin-right:0}.creater[_ngcontent-%COMP%]   .creater__editor-table[_ngcontent-%COMP%], .creater[_ngcontent-%COMP%]   .creater__editor-total[_ngcontent-%COMP%]{padding-top:2rem;padding-bottom:2rem;border-bottom:1px solid #f2f2f2}.creater[_ngcontent-%COMP%]   .creater__editor-footer[_ngcontent-%COMP%]{padding-top:2rem;font-size:.8rem;color:#637584;text-align:center}.creater[_ngcontent-%COMP%]   .creater__aside[_ngcontent-%COMP%]{display:block;width:250px;margin-left:15px;flex-shrink:0}.creater[_ngcontent-%COMP%]   .creater__aside-group[_ngcontent-%COMP%] + .creater__aside-group[_ngcontent-%COMP%]{padding-top:15px;margin-top:15px;border-top:1px solid #eee}.creater[_ngcontent-%COMP%]   .creater__btn[_ngcontent-%COMP%]{display:block;width:100%}fb-field[_ngcontent-%COMP%]{display:-webkit-inline-box;display:inline-flex}fb-field[_ngcontent-%COMP%] + fb-field[_ngcontent-%COMP%]{margin-left:15px}fb-toggle[_ngcontent-%COMP%]{display:-webkit-box;display:flex}fb-toggle[_ngcontent-%COMP%] + fb-toggle[_ngcontent-%COMP%]{margin-top:15px}"]],data:{}});function U(n){return e.Nb(0,[(n()(),e.sb(0,0,null,null,39,"section",[["class","creater"]],null,null,null,null,null)),(n()(),e.sb(1,0,null,null,21,"form",[["class","creater__editor"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(n,l,t){var a=!0,u=n.component;return"submit"===l&&(a=!1!==e.Eb(n,3).onSubmit(t)&&a),"reset"===l&&(a=!1!==e.Eb(n,3).onReset()&&a),"ngSubmit"===l&&(a=!1!==u.save()&&a),a}),null,null)),e.rb(2,16384,null,0,P.x,[],null,null),e.rb(3,540672,null,0,P.h,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),e.Ib(2048,null,P.c,null,[P.h]),e.rb(5,16384,null,0,P.n,[[4,P.c]],null,null),(n()(),e.sb(6,0,null,null,13,"div",[["class","creater__editor-header"]],null,null,null,null,null)),(n()(),e.sb(7,0,null,null,5,"fb-field",[["formControlName","UNP"],["label","\u0423\u041d\u041f \u043a\u043e\u043d\u0442\u0440\u0430\u0433\u0435\u043d\u0442\u0430"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"]],(function(n,l,t){var e=!0;return"change"===l&&(e=!1!==n.component.getCompanyInfo()&&e),e}),v.b,v.a)),e.rb(8,114688,null,0,x.a,[],{label:[0,"label"],type:[1,"type"],control:[2,"control"]},null),e.Ib(1024,null,P.k,(function(n){return[n]}),[x.a]),e.rb(10,671744,null,0,P.f,[[3,P.c],[8,null],[8,null],[6,P.k],[2,P.v]],{name:[0,"name"]},null),e.Ib(2048,null,P.l,null,[P.f]),e.rb(12,16384,null,0,P.m,[[4,P.l]],null,null),(n()(),e.sb(13,0,null,null,6,"div",[],null,null,null,null,null)),(n()(),e.sb(14,0,null,null,5,"fb-field",[["formControlName","startDate"],["label","\u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,v.b,v.a)),e.rb(15,114688,null,0,x.a,[],{label:[0,"label"],type:[1,"type"],control:[2,"control"]},null),e.Ib(1024,null,P.k,(function(n){return[n]}),[x.a]),e.rb(17,671744,null,0,P.f,[[3,P.c],[8,null],[8,null],[6,P.k],[2,P.v]],{name:[0,"name"]},null),e.Ib(2048,null,P.l,null,[P.f]),e.rb(19,16384,null,0,P.m,[[4,P.l]],null,null),(n()(),e.sb(20,0,null,null,2,"div",[["class","creater__editor-company"]],null,null,null,null,null)),(n()(),e.Lb(21,null,[" Company: "," "])),e.Gb(0,o.f,[]),(n()(),e.sb(23,0,null,null,16,"aside",[["class","creater__aside"]],null,null,null,null,null)),(n()(),e.sb(24,0,null,null,2,"div",[["class","creater__aside-group"]],null,null,null,null,null)),(n()(),e.sb(25,0,null,null,1,"button",[["class","btn btn--primary creater__btn creater__btn--primary"],["type","button"]],[[8,"disabled",0]],null,null,null,null)),(n()(),e.Lb(-1,null,[" \u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0441\u0447\u0451\u0442 "])),(n()(),e.sb(27,0,null,null,12,"div",[["class","creater__aside-group"]],null,null,null,null,null)),(n()(),e.sb(28,0,null,null,5,"fb-toggle",[["label","\u041e\u0433\u0440\u0430\u043d\u0438\u0447\u0438\u0442\u044c \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u0441\u0447\u0435\u0442\u0430"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(n,l,t){var e=!0,a=n.component;return"ngModelChange"===l&&(e=!1!==(a.paymentOptions.showEndDate=t)&&e),"ngModelChange"===l&&(e=!1!==a.changePaymentOptions()&&e),e}),M.b,M.a)),e.rb(29,114688,null,0,O.a,[],{label:[0,"label"]},null),e.Ib(1024,null,P.k,(function(n){return[n]}),[O.a]),e.rb(31,671744,null,0,P.o,[[8,null],[8,null],[8,null],[6,P.k]],{model:[0,"model"]},{update:"ngModelChange"}),e.Ib(2048,null,P.l,null,[P.o]),e.rb(33,16384,null,0,P.m,[[4,P.l]],null,null),(n()(),e.sb(34,0,null,null,5,"fb-toggle",[["label","\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u041d\u0414\u0421"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(n,l,t){var e=!0,a=n.component;return"ngModelChange"===l&&(e=!1!==(a.paymentOptions.showTax=t)&&e),"ngModelChange"===l&&(e=!1!==a.changePaymentOptions()&&e),e}),M.b,M.a)),e.rb(35,114688,null,0,O.a,[],{label:[0,"label"]},null),e.Ib(1024,null,P.k,(function(n){return[n]}),[O.a]),e.rb(37,671744,null,0,P.o,[[8,null],[8,null],[8,null],[6,P.k]],{model:[0,"model"]},{update:"ngModelChange"}),e.Ib(2048,null,P.l,null,[P.o]),e.rb(39,16384,null,0,P.m,[[4,P.l]],null,null)],(function(n,l){var t=l.component;n(l,3,0,t.form),n(l,8,0,"\u0423\u041d\u041f \u043a\u043e\u043d\u0442\u0440\u0430\u0433\u0435\u043d\u0442\u0430","text",t.f.UNP),n(l,10,0,"UNP"),n(l,15,0,"\u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f","text",t.f.startDate),n(l,17,0,"startDate"),n(l,29,0,"\u041e\u0433\u0440\u0430\u043d\u0438\u0447\u0438\u0442\u044c \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u0441\u0447\u0435\u0442\u0430"),n(l,31,0,t.paymentOptions.showEndDate),n(l,35,0,"\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u041d\u0414\u0421"),n(l,37,0,t.paymentOptions.showTax)}),(function(n,l){var t=l.component;n(l,1,0,e.Eb(l,5).ngClassUntouched,e.Eb(l,5).ngClassTouched,e.Eb(l,5).ngClassPristine,e.Eb(l,5).ngClassDirty,e.Eb(l,5).ngClassValid,e.Eb(l,5).ngClassInvalid,e.Eb(l,5).ngClassPending),n(l,7,0,e.Eb(l,12).ngClassUntouched,e.Eb(l,12).ngClassTouched,e.Eb(l,12).ngClassPristine,e.Eb(l,12).ngClassDirty,e.Eb(l,12).ngClassValid,e.Eb(l,12).ngClassInvalid,e.Eb(l,12).ngClassPending),n(l,14,0,e.Eb(l,19).ngClassUntouched,e.Eb(l,19).ngClassTouched,e.Eb(l,19).ngClassPristine,e.Eb(l,19).ngClassDirty,e.Eb(l,19).ngClassValid,e.Eb(l,19).ngClassInvalid,e.Eb(l,19).ngClassPending),n(l,21,0,e.Mb(l,21,0,e.Eb(l,22).transform(t.customerInfo))),n(l,25,0,t.form.invalid),n(l,28,0,e.Eb(l,33).ngClassUntouched,e.Eb(l,33).ngClassTouched,e.Eb(l,33).ngClassPristine,e.Eb(l,33).ngClassDirty,e.Eb(l,33).ngClassValid,e.Eb(l,33).ngClassInvalid,e.Eb(l,33).ngClassPending),n(l,34,0,e.Eb(l,39).ngClassUntouched,e.Eb(l,39).ngClassTouched,e.Eb(l,39).ngClassPristine,e.Eb(l,39).ngClassDirty,e.Eb(l,39).ngClassValid,e.Eb(l,39).ngClassInvalid,e.Eb(l,39).ngClassPending)}))}function j(n){return e.Nb(0,[(n()(),e.sb(0,0,null,null,1,"data-customer-create",[],null,null,null,U,S)),e.rb(1,114688,null,0,N,[C,p.a,P.e,D],null,null)],(function(n,l){n(l,1,0)}),null)}var T=e.ob("data-customer-create",N,j,{},{},[]),V=t("yA/v"),R=t("1XSQ"),L=t("m7gy"),z=t("z5t0"),F=t("irV9"),Y=t("rzCp"),K=t("978R"),X=t("2uy1"),q=t("z/SZ"),A=t("2ZVE"),G=t("ienR"),B=t("bOtU"),J=t("PCNd");class Z{}t.d(l,"CustomerModuleNgFactory",(function(){return Q}));var Q=e.pb(a,[],(function(n){return e.Bb([e.Cb(512,e.j,e.ab,[[8,[u.a,r.a,r.c,r.b,r.d,s.a,y,T]],[3,e.j],e.v]),e.Cb(4608,o.n,o.m,[e.s,[2,o.y]]),e.Cb(4608,P.u,P.u,[]),e.Cb(4608,P.e,P.e,[]),e.Cb(4608,w.i,w.o,[o.d,e.z,w.m]),e.Cb(4608,w.p,w.p,[w.i,w.n]),e.Cb(5120,w.a,(function(n){return[n]}),[w.p]),e.Cb(4608,w.l,w.l,[]),e.Cb(6144,w.j,null,[w.l]),e.Cb(4608,w.h,w.h,[w.j]),e.Cb(6144,w.b,null,[w.h]),e.Cb(4608,w.f,w.k,[w.b,e.p]),e.Cb(4608,w.c,w.c,[w.f]),e.Cb(5120,V.b,V.e,[V.d,e.x,[2,V.c]]),e.Cb(4608,g.a,g.a,[V.d,[2,V.c],[2,g.b],[2,g.c],e.z,e.x,[2,g.d]]),e.Cb(4608,d.a,d.a,[V.d,[2,V.c],[2,R.a],e.z,e.x]),e.Cb(4608,F.a,F.a,[V.d,[2,V.c],e.z,e.x]),e.Cb(4608,K.a,K.a,[]),e.Cb(4608,X.a,X.a,[e.x,e.D,e.z]),e.Cb(4608,q.a,q.a,[e.j,e.x,e.p,X.a,e.g]),e.Cb(4608,A.f,A.f,[]),e.Cb(4608,G.r,G.r,[]),e.Cb(4608,G.t,G.t,[]),e.Cb(4608,G.a,G.a,[]),e.Cb(4608,G.f,G.f,[]),e.Cb(4608,G.c,G.c,[]),e.Cb(4608,G.h,G.h,[]),e.Cb(4608,G.j,G.j,[]),e.Cb(4608,G.s,G.s,[G.t,G.j]),e.Cb(5120,B.h,B.g,[B.a,B.e]),e.Cb(4608,B.b,B.b,[B.h]),e.Cb(1073742336,o.c,o.c,[]),e.Cb(1073742336,P.t,P.t,[]),e.Cb(1073742336,P.i,P.i,[]),e.Cb(1073742336,P.q,P.q,[]),e.Cb(1073742336,w.e,w.e,[]),e.Cb(1073742336,w.d,w.d,[]),e.Cb(1073742336,V.a,V.a,[e.z]),e.Cb(1073742336,L.a,L.a,[]),e.Cb(1073742336,z.a,z.a,[]),e.Cb(1073742336,Y.a,Y.a,[]),e.Cb(1073742336,K.d,K.d,[]),e.Cb(1073742336,A.d,A.d,[]),e.Cb(1073742336,G.e,G.e,[]),e.Cb(1073742336,B.f,B.f,[]),e.Cb(1073742336,J.a,J.a,[]),e.Cb(1073742336,i.o,i.o,[[2,i.t],[2,i.k]]),e.Cb(1073742336,Z,Z,[]),e.Cb(1073742336,a,a,[]),e.Cb(256,w.m,"XSRF-TOKEN",[]),e.Cb(256,w.n,"X-XSRF-TOKEN",[]),e.Cb(256,V.d,{apiKey:"AIzaSyAt0A-pNJNvSe9pUWrby_2-SFQCXI7WMsE",authDomain:"invoices-244bd.firebaseapp.com",databaseURL:"https://invoices-244bd.firebaseio.com",projectId:"invoices-244bd",storageBucket:"invoices-244bd.appspot.com",messagingSenderId:"281478247600",appId:"1:281478247600:web:4bce50f58c2357d55ab775",measurementId:"G-YDRP5ST41Z"},[]),e.Cb(256,V.c,void 0,[]),e.Cb(256,B.e,void 0,[]),e.Cb(256,B.a,B.i,[]),e.Cb(1024,i.i,(function(){return[[{path:"",children:[{path:"",component:c},{path:"create",component:N}]}]]}),[])])}))}}]);